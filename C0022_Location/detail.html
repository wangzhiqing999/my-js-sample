<!DOCTYPE html>
<html>
<head>
	<title> Location 信息.  </title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<script src="../common/jquery-1.10.2.js" type="text/javascript"></script>
</head>

<body>
	
	<h2>我是一个用于测试的明细页面</h2>
	
	
	<table border="1">
	
		<tr>
			<td>window.location.hash</td>
			<td id="hash"></td>
		</tr>
			
	
		<tr>
			<td>window.location.host </td>
			<td id="host"></td>
		</tr>

		<tr>
			<td>window.location.hostname </td>
			<td id="hostname"></td>
		</tr>
		
		
		
		<tr>
			<td>window.location.href</td>
			<td id="href"></td>
		</tr>
		
		
		
		<tr>
			<td>window.location.pathname </td>
			<td id="pathname"></td>
		</tr>
		
		<tr>
			<td>window.location.port </td>
			<td id="port"></td>
		</tr>
		
		
		<tr>
			<td>window.location.protocol</td>
			<td id="protocol"></td>
		</tr>
		
		<tr>
			<td>window.location.search</td>
			<td id="search"></td>
		</tr>		



		<tr>
			<td>用于登录的 URL </td>
			<td id="loginUrl"></td>
		</tr>

		<tr>
			<td>用于登录的 URL 2 </td>
			<td id="loginUrl2"></td>
		</tr>

	</table>
	


	<hr/>

	<p>
	点击下面的 上一集/下一集之后， 点击浏览器的后退， 将不会直接返回列表页面。
	<br/>
	而是先返回之前访问的明细页面，点击多次后退后，才返回列表页面.
	</p>
	<ul>
		<li> 
			<a href="detail.html?id=3"> 上一集 </a>
		</li>
		<li>
			<a href="detail.html?id=5"> 下一集 </a>
		</li>
	</ul>



	<hr/>
	
	<p>
	点击下面的 上一集/下一集之后， 点击浏览器的后退， 将直接返回列表页面。
	</p>

	<ul>
		<li> 
			<a href="javascript:void(0);" class="other-data" data-id="3" > 上一集 </a>
		</li>
		<li>
			<a href="javascript:void(0);" class="other-data" data-id="5" > 下一集 </a>
		</li>
	</ul>



<script>

	$(function () {
	
		$("#hash").html(window.location.hash);
		
		$("#host").html(window.location.host);		
		$("#hostname").html(window.location.hostname);

		$("#href").html(window.location.href);		
		$("#pathname").html(window.location.pathname);
		$("#port").html(window.location.port);
		
		$("#protocol").html(window.location.protocol);
		$("#search").html(window.location.search);
		
		
		$("#loginUrl").html("/Account/Login?returnUrl=" + encodeURIComponent(window.location.pathname));
		
		$("#loginUrl2").html("/Account/Login?returnUrl=" + encodeURIComponent(window.location.pathname) + encodeURIComponent(window.location.search));
	});



	// 上一集/下一集 的处理.
	$(function () {
		$(".other-data").click(function () {
			let vid = $(this).attr("data-id");
			let newUrl = 'detail.html?id=' + vid;
			
			window.location.replace(newUrl);
			
			
			
			// 注：如果明细页面，是 iframe 里面的话，可以尝试
			// top.location.replace(newUrl);
			
		});
	});


</script>

	
</body>



</html>