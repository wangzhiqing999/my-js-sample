<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title> foreach </title>
    <script src="js/knockout-3.4.2.debug.js"></script>

  </head>


  <body>


	<h4>People</h4>

	<ul data-bind="foreach: people">
		<li>
			Name at position <span data-bind="text: $index"> </span>:
			
			<span data-bind="text: name"> </span>  .vs.   <span data-bind="text: $data.name""> </span>
			
			<a href="#" data-bind="click: $parent.removePerson">Remove</a>
		</li>
	</ul>
	<button data-bind="click: addPerson">Add</button>





	<p>
	关键点， 使用  data-bind = foreach: ......
	<br/>
	在 foreach 中， 使用  $data , 获取每一个元素.
	<br/>
	$index 为循环中的索引.  $parent 为上级属性.
	</p>



	<script type="text/javascript">

		function AppViewModel() {
			var self = this;

			// 初始数据.
			self.people = ko.observableArray([
				{ name: 'Bert' },
				{ name: 'Charles' },
				{ name: 'Denise' }
			]);

			// 添加的方法.
			self.addPerson = function() {
				self.people.push({ name: "New at " + new Date() });
			};

			// 删除的方法.
			self.removePerson = function() {
				self.people.remove(this);
			}
		}

		ko.applyBindings(new AppViewModel());

	</script>

  </body>
</html>
