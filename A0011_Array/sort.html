<!DOCTYPE html>
<html>
<head>
	<title>sort</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<body>

	<p>
	F12 看控制台的输出！

	<br/>

	默认情况下，sort()方法按字符串升序排列数组项，sort方法会调用每个数组项的toString()方法，然后比较得到的字符串排序，返回经过排序之后的数组，而原数组顺序也发生改变

	<br/>
	如果数组包含undefined元素，它们会被排到数组的尾部


	<br/>
	sort()方法可以接受一个比较函数作为参数，以便指定哪个值在哪个值的前面。
	比较函数接收两个参数，如果第一个参数应该位于第二个参数之前则返回一个负数，如果两个参数相等则返回0，如果第一个参数应该位于第二个参数之后则返回一个正数.

	</p>


	<script type="text/javascript">

		// 排序规则.
		function sortRule(a,b) {
		  return a-b; // 如果a>=b，返回自然数，不用交换位置
		}

		console.group("简单排序操作.");

		var test1 = [11,3,55,6,44,2];
		console.log(test1);
		
		
		// 这里的排序， 是按 “字符串” 的方式排序. 不是 “数字大小” 的方式来排序.
		test1.sort();
		console.log(test1);
		
		// 这里是按照 “sortRule” 方法中的 排序规则， 来进行排序.
		test1.sort(sortRule);
		console.log(test1);
		
		console.groupEnd();





		console.group("存在 undefined 的排序.");

		var test2 = [1,3,'2', undefined, '3','1',2];
		console.log(test2);
		test2.sort();
		console.log(test2);

		console.groupEnd();






		console.group("指定比较函数的排序.");

		// 如果对一个字符串数组执行不区分大小写的字母表排序，比较函数首先将参数转化为小写字符串再开始比较
		function compare(s,t){
			var a = s.toLowerCase();
			var b = t.toLowerCase();
			if(a < b)return -1;
			if(a > b)return 1;
			return 0;
		}


		var test3 =  ['ant','Bug','cat','Dog'];
		console.log(test3);

		test3.sort();
		console.log(test3);

		test3.sort(compare);
		console.log(test3);


		// 使用sort()方法创建一个随机数组.
		function randomCompare(){
			return Math.random() - 0.5;
		}

		var test4 = [1,2,3,4,5];
		test4.sort(randomCompare)
		console.log(test4);

		console.groupEnd();
		
		
		
		

		// 排序规则.
		function sortDataRule(a,b) {
			
			var d1 = new Date(a.CreateTime);
			var d2 = new Date(b.CreateTime);
			
			return d1 - d2; // 如果a.CreateTime >= b.CreateTime，返回自然数，不用交换位置.
		}

		console.group("对象的数组的排序.");
		var test5 = [
			{ Code : "1",  CreateTime : "2024-04-10 15:22:59" },
			{ Code : "2",  CreateTime : "2024-04-10 14:22:59" },
			{ Code : "3",  CreateTime : "2024-04-10 11:22:59" },
			{ Code : "4",  CreateTime : "2024-04-10 12:22:59" },
			{ Code : "5",  CreateTime : "2024-04-10 13:22:59" }
		];		
		
		/*
		var x1 = "2024-04-10 13:22:59"
		var x2 = "2024-04-10 13:30:59"		
		var d1 = new Date(x1);
		var d2 = new Date(x2);		
		console.log(d1);
		console.log(d2);		
		console.log(d2 - d1);
		*/
		
		test5.sort(sortDataRule)
		console.log('排序后：', test5);

		console.groupEnd();
		

	</script>

</body>
</html>